<html>
  <head>
    <link rel="stylesheet" href="./style.css">
        <script src="https://cdn.jsdelivr.net/npm/three@0.117.0/build/three.js"></script>

  </head>
  <body>


  <button id="btn_connect">Connect Perifit</button>
  <select id="devicesSelect"></select>
  <button id="forgetBluetoothDevice">Forget Perifit Device</button>
  <br>
  <div id="device_name"></div><br>
  <div id="mac_addr"></div>
  <br>

  <select id="exercise_prefix">
    <option value="pelvic_relaxation_normal_state">Pelvic relaxation - normal state</option>
    <option value="pelvic_relaxation_inhale_exhale">Pelvic relaxation - inhale exhale</option>
    <option value="pelvic_contraction_normal_breathing">Pelvic contraction - perform max contraction + normal breathing</option>
    <option value="pelvic_contraction_exhale">Pelvic contraction - perform max contraction + exhale</option>
    <option value="pelvic_contraction_inhale">Pelvic contraction - perform max contraction + inhale</option>
    <option value="pelvic_elongation_normal_breathing">Pelvic elongation - perform max elongation + normal breathing</option>
    <option value="pelvic_elongation_exhale">Pelvic elongation - perform max elongation + exhale</option>
    <option value="pelvic_elongation_inhale">Pelvic elongation - perform max elongation + inhale</option>
    <option value="abdominal_contraction_transverse_pelvic_relaxation">Abdominal contraction (transverse abdominis) - pelvic relaxation</option>
    <option value="abdominal_contraction_pelvic_contraction">Abdominal contraction (transverse abdominis) - perform max pelvic contraction</option>
    <option value="abdominal_contraction_exhale">Abdominal contraction (transverse abdominis) - perform max pelvic contraction + exhale</option>
    <option value="abdominal_contraction_inhale">Abdominal contraction (transverse abdominis) - inhale</option>
    <option value="abdominal_contraction_rectus_pelvic_relaxation">Abdominal contraction (rectus abdominis) - perform max pelvic relaxation</option>
    <option value="abdominal_contraction_rectus_pelvic_contraction">Abdominal contraction (rectus abdominis) - perform max pelvic contraction</option>
    <option value="abdominal_contraction_rectus_exhale">Abdominal contraction (rectus abdominis) - perform max pelvic contraction + exhale</option>
    <option value="abdominal_contraction_rectus_inhale">Abdominal contraction (rectus abdominis) - inhale</option>
    <option value="abdominal_contraction_rectus_breath_hold">Abdominal contraction (rectus abdominis) - breath hold</option>
  </ul>

  <input type="text" id="exercise_name">
  <button id="btn_start_exercise">Start Exercise</button>
  <a id="downloadLink" href="data:text/csv;charset=utf-8," hidden>Download CSV</a>
    <div class="Parent">

  <div class="chart-container child1" >
    <h3>ACC</h3>
    <canvas id="myChart" ></canvas>
</div>

<div class="chart-container child2">
  <h3>FSR</h3>
  <canvas id="myChart_fsr" ></canvas>
</div>
    </div>
    <br>
    <b>Troubleshoot:</b>
      <p>
      - Please use Google Chrome browser. <br>
      If not working: <br>
      - Go to <a href="chrome://flags/#enable-web-bluetooth-new-permissions-backend">chrome://flags/#enable-web-bluetooth-new-permissions-backend</a> by copy and pasting to the url bar and enable the flag.<br>
      - Go to <a href="chrome://flags/#enable-experimental-web-platform-features">chrome://flags/#enable-experimental-web-platform-features</a> by copy and pasting to the url bar and enable the flag.<br>
    </p>

<!--<div style="overflow-x: scroll">
  <div class="chart-container" style="position: relative;  width:900px;">
    <canvas id="myChart"></canvas>
  </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

</div>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.js"></script>
  <script src="../js/ble_common.js"></script>
  <script src="./ble_perifit.js"></script>
  <script src="./charts.js"></script>
  </body>
</html>
